
<!DOCTYPE html>

<html lang="zh_TW">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>7. XY 點散佈圖 &#8212; GMT 教學手冊</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

 <link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Noto+Sans+TC:wght@300;400;500;700&family=Quicksand:wght@300;400;500;600;700&family=Ubuntu+Mono:ital,wght@0,400;0,700;1,400;1,700&family=Varela+Round&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://gmt-tutorials.org/main/scatter_plot.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜尋" href="../search.html" />
    <link rel="next" title="8. 使用色階表為網格資料著色" href="cpt_colormap.html" />
    <link rel="prev" title="6. 畫筆與調色技巧" href="pen_and_painting.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="zh_TW">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">GMT 教學手冊</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form> <div class="langcenter"> <nav class="menu"> <ul class="clearfix"> <li class="current-item"> <a href="#" class="clicker">中文 (台灣) <span class="arrow">&#9660;</span></a> <ul class="sub-menu"> <li><a href="scatter_plot.html">中文 (台灣)</a></li> <li><a href="../en/main/scatter_plot.html">English</a></li> </ul> </li> </ul> </nav> </div> 
<nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  入門與概述
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro_install.html">
   1. GMT / PyGMT 簡介與安裝
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software.html">
   2. 推薦搭配的軟體或套件
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="basic_concept.html">
   3. 基本概念與名詞
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  基本繪圖技巧
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="making_first_map.html">
   4. 製作第一張地圖
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="coloring_topography.html">
   5. 為地形圖上色
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pen_and_painting.html">
   6. 畫筆與調色技巧
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   7. XY 點散佈圖
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  製作各種常見的地圖（基礎）
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="cpt_colormap.html">
   8. 使用色階表為網格資料著色
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="plot_vector_data.html">
   9. 繪製向量式資料
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="layout_design.html">
   10. 版面設計與地圖的幾何布局
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hillshading.html">
   11. 暈渲地圖
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="contour_and_profile.html">
   12. 等高線地圖及地形剖面
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="map_elements.html">
   13. 加入地圖元素
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  製作各種常見的地圖（進階）
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="editing_cpt_colorbar.html">
   14. 色階檔的編修與呈現
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="view3d.html">
   15. 3D 視圖
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="focal_mech.html">
   16. 繪製震源機制解
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="draping.html">
   17. 在 3D 地形上覆蓋地圖
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  網格資料處理
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="raster_calculator.html">
   18. 網格計算機
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="basic_img_processing.html">
   19. 基本影像處理
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  數值資料處理
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="stat_histogram.html">
   20. 輸出統計資訊與直方圖
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="regression_basics.html">
   21. 進行迴歸分析
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  附錄與學習資源
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="data_credit.html">
   22. 資料來源與參考文獻
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="command_index.html">
   23. 指令索引
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="gallery.html">
   24. 章節地圖索引
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/whyjz/GMT-tutorials"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/main/scatter_plot.rst"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   7.1. 目標
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   7.2. 使用的指令與概念
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   7.3. 前置作業
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   7.4. 操作流程
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   7.5. 指令稿
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pygmt">
   7.6. PyGMT 指令稿
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   7.7. 習題
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>XY 點散佈圖</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   7.1. 目標
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   7.2. 使用的指令與概念
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   7.3. 前置作業
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   7.4. 操作流程
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   7.5. 指令稿
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pygmt">
   7.6. PyGMT 指令稿
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   7.7. 習題
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="xy">
<h1><span class="section-number">7. </span>XY 點散佈圖<a class="headerlink" href="#xy" title="本標題的永久連結">#</a></h1>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>本教學適用於 GMT 6 的現代模式。如須參閱 GMT 6 (傳統模式) 與 GMT 4-5 繪製相似地圖的教程，<a class="reference external" href="scatter_plot_gmt5.html">請至這裡</a>。</p>
</div>
<p>在數據分析中最重要也最常用的圖表形式，非 XY 散佈圖莫屬。雖然 GMT 是繪製地圖的專門工具，但它仍然能處理跟地理空間無關的資料，並做出精美的視覺化分析。在本章中，將會解說用來繪製點、線、面的重要指令 <code class="docutils literal notranslate"><span class="pre">plot</span></code> (舊版 GMT 內為 <code class="docutils literal notranslate"><span class="pre">psxy</span></code>)，以及一些衍伸的作圖設定技巧。這些技巧在處理地理空間資料時也都適用。</p>
<section id="id2">
<h2><span class="section-number">7.1. </span>目標<a class="headerlink" href="#id2" title="本標題的永久連結">#</a></h2>
<p>使用台灣<em>中央氣象局</em>的氣象資料，製作風速 (Wind Speed) 對氣溫 (Temperature) 的 XY 散佈圖。圖中使用了 2016 年 1 月，位於竹子湖 (Zhuzihu) 與蘇澳 (Su’ao) 兩個測站的每日資料，並用不同顏色與不同標記表示。在圖中可以看出幾點有趣的事情：</p>
<ul class="simple">
<li><p>風速與氣溫看來呈現負相關，也就是說，氣溫越低，風速越快。</p></li>
<li><p>一般來說，竹子湖的氣溫要比蘇澳來得冷一點，而且蘇澳在一月份還有超過攝氏 20 度以上的日子。</p></li>
<li><p>竹子湖有一天的溫度掉到了攝氏 0 度以下。事實上，這天是竹子湖睽違了 11 年後，再度下雪的日子<a class="footnote-reference brackets" href="#id12" id="id3">1</a>。這些受「超級寒流」影響的資料點，看起來就像是整個負相關趨勢的離群值。</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/windspeed_vs_temperature_gmt6.png" id="id4"><img alt="../_images/windspeed_vs_temperature_gmt6.png" class="align-center" id="id4" src="../_images/windspeed_vs_temperature_gmt6.png" style="width: 1000px;" /></a>
<p>直接觀看<a class="reference internal" href="#id9">指令稿</a></p>
</section>
<section id="id5">
<h2><span class="section-number">7.2. </span>使用的指令與概念<a class="headerlink" href="#id5" title="本標題的永久連結">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">info</span></code> - <strong>查閱純文字格式數值資料檔的基本資訊</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plot</span></code> - <strong>繪製點、線與多邊形</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">basemap</span></code> - <strong>設定繪圖區、座標軸與邊框</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code> - <strong>在圖上標記文字</strong></p></li>
<li><p>外部指令 <code class="docutils literal notranslate"><span class="pre">echo</span></code> - <strong>把資料輸入到管線命令中</strong></p></li>
<li><p>GMT 共用選項：<code class="docutils literal notranslate"><span class="pre">-JX</span></code> (直角座標作圖)</p></li>
<li><p>如何輸入 ASCII (純文字) 格式的資料到 GMT 中</p></li>
<li><p>如何從螢幕或腳本輸入資料到 GMT 中 (標準輸入重導向)</p></li>
<li><p>繪製 XY 散佈圖</p></li>
<li><p>設定座標軸標籤與特殊文字的處理方法</p></li>
<li><p>製作簡易的圖例</p></li>
</ul>
</section>
<section id="id6">
<h2><span class="section-number">7.3. </span>前置作業<a class="headerlink" href="#id6" title="本標題的永久連結">#</a></h2>
<p>我們這次使用的資料是<strong>中央氣象局的天氣觀測紀錄</strong>。這些資料可以從中央氣象局建置的「<a class="reference external" href="http://e-service.cwb.gov.tw/HistoryDataQuery/index.jsp">觀測資料查詢系統</a>」取得。選擇位於臺北市 (TaipeiCity) 的竹子湖 (ZHUZIHU) 測站，資料格式為「月報表」，時間為 2016 年 1 月，按下查詢鈕後，應該會看到如下頁面：</p>
<img alt="../_images/scatter_plot_fig1.png" src="../_images/scatter_plot_fig1.png" />
<p>把表格全選後複製貼上到 <em>Microsoft Excel</em> 或 <em>Libre Office Calc</em> 之類的試算表軟體，資料就會自動對到不同的欄位。接下來，你可以選擇以下兩種作法的任一種：</p>
<ol class="arabic">
<li><p>直接在試算表軟體中刪除不要的資料，只留「氣溫」與「風速」兩欄。把第一列「檔頭列」(也就是欄位名稱) 也刪除，接著「另存新檔」為逗號分隔檔 (<code class="docutils literal notranslate"><span class="pre">.csv</span></code> 檔)。</p></li>
<li><p>把第一列「檔頭列」(欄位名稱) 刪除，「另存新檔」為逗號分隔檔 (<code class="docutils literal notranslate"><span class="pre">.csv</span></code> 檔)，再使用 shell 指令操作逗號分隔檔。例如在大部分的 Linux shell 下，可以使用</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cut -d <span class="s1">&#39;,&#39;</span> -f <span class="m">8</span>,17 你的檔案.csv &gt; zzh.txt
</pre></div>
</div>
<p>其中第 8 欄和第 17 欄分別就是「氣溫」與「風速」的資料。</p>
</li>
</ol>
<p>處理完的 <code class="docutils literal notranslate"><span class="pre">zzh.txt</span></code> 檔可以直接使用文字編輯器打開，前幾欄應該會長這樣</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">14</span>.6,3.6
<span class="m">15</span>.7,0.2
<span class="m">16</span>,0.3
<span class="m">17</span>.7,0.3
<span class="m">17</span>.8,0.7
<span class="c1"># ....以下略....</span>
<span class="c1"># 第 1 欄：氣溫 (攝氏)；第 2 欄：風速 (公尺/秒)</span>
</pre></div>
</div>
<p>如此一來資料就整理成 GMT 的輸入格式了。再次使用同樣流程，可以取得位於宜蘭縣 (YiLanCounty) 的蘇澳 (SU-AO) 測站的相同資料，把它命名為 <code class="docutils literal notranslate"><span class="pre">suao.txt</span></code>。GMT 並不依據副檔名讀取純文字資料，但是相對的，它只接受四種欄位分隔符號：<strong>空格</strong>、<strong>Tab</strong>、<strong>逗號</strong>與<strong>分號</strong>。在把資料輸入 GMT 前，務必確認你的資料能被 GMT 正確讀取。</p>
<div class="admonition tip">
<p class="admonition-title">小訣竅</p>
<p>事實上，你也可以不用刪除任何檔頭和欄位，只要把資料存成 <code class="docutils literal notranslate"><span class="pre">.csv</span></code> 檔或其他 GMT 能接受的純文字格式，GMT 自己就有帶有功能選項來讀取資料表中的特定欄位，請參考 <a class="reference external" href="https://docs.generic-mapping-tools.org/latest/cookbook/file_formats.html">GMT 官方手冊的說明</a>。</p>
</div>
<p>為了方便起見，你也可以直接從以下連結取得本章節會使用的檔案：</p>
<p><a class="reference download internal" download="" href="../_downloads/e105b59106d29e4a7a9d95a82d51cb84/zzh.txt"><code class="xref download docutils literal notranslate"><span class="pre">zzh.txt</span></code></a></p>
<p><a class="reference download internal" download="" href="../_downloads/161cab952455e2cd60b3b583862f17b1/suao.txt"><code class="xref download docutils literal notranslate"><span class="pre">suao.txt</span></code></a></p>
</section>
<section id="id8">
<h2><span class="section-number">7.4. </span>操作流程<a class="headerlink" href="#id8" title="本標題的永久連結">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">plot</span></code> 是用來把點資料描繪到地圖上的工具。對於一般不與地理座標相關的資料，在畫圖時的 <code class="docutils literal notranslate"><span class="pre">-J</span></code> 選項是 <code class="docutils literal notranslate"><span class="pre">-JX</span></code>，GMT 會使用單純的直角座標來畫圖。至於要怎麼決定 <code class="docutils literal notranslate"><span class="pre">-R</span></code> 的範圍？你可以先使用 GMT 內附的 <code class="docutils literal notranslate"><span class="pre">info</span></code> 指令簡單地查閱一下純文字資料的資訊，像這樣：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt info zzh.txt
zzh.txt: <span class="nv">N</span> <span class="o">=</span> <span class="m">31</span>     &lt;-0.4/17.8&gt;     &lt;<span class="m">0</span>.2/6.3&gt;
<span class="c1"># 檔名  資料點數      第一欄最小/最大值  第二欄最小/最大值</span>
</pre></div>
</div>
<p>由於第一和第二欄的數值會分別被用在 x 軸和 y 軸，我們馬上就可以依照最大和最小值決定 <code class="docutils literal notranslate"><span class="pre">-R</span></code> 的範圍。<code class="docutils literal notranslate"><span class="pre">info</span></code> 指令也可以接受多於一個的輸入檔，只要所有檔案的欄位數量相同即可。如下所示：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt info zzh.txt suao.txt
dataset: <span class="nv">N</span> <span class="o">=</span> <span class="m">62</span>     &lt;-0.4/21.6&gt;     &lt;<span class="m">0</span>.2/6.3&gt;
<span class="c1">#      資料點數      第一欄最小/最大值  第二欄最小/最大值</span>
</pre></div>
</div>
<p>依照 <code class="docutils literal notranslate"><span class="pre">info</span></code> 的輸出資料，我們可以知道所有的資料點一定能畫在 <code class="docutils literal notranslate"><span class="pre">-R-1/23/0/7</span></code> 的範圍內 (x 從 -1 至 23，y 從 0 至 7)。馬上來畫畫看我們的資料：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt plot zzh.txt -R-1/23/0/7 -JX15c -Bafg -png zzh
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig2.png"><img alt="../_images/scatter_plot_gmt6_fig2.png" class="align-center" src="../_images/scatter_plot_gmt6_fig2.png" style="width: 1000px;" /></a>
<p>雖然資料是畫上去了，不過這並不是我們想要的樣子…這是因為 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 的預設繪圖模式為<strong>折線圖</strong>，會把所有的點以線連接起來，如果我們只想要 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 畫點，必須要加上 <code class="docutils literal notranslate"><span class="pre">-S</span></code> 選項。此選項除了使 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 轉換成<strong>散佈圖</strong>模式外，還可以使用以下語法設定資料點的樣式：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-S代號<span class="o">[</span>尺寸<span class="o">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">代號</span></code> 為單一字元的符號，而尺寸指定的東西則依符號的不同而不同。完整的代號列表可以在 <a class="reference external" href="https://docs.generic-mapping-tools.org/6.0/plot.html">plot 的說明頁面</a>找到。舉個例子，<code class="docutils literal notranslate"><span class="pre">-Sc0.25c</span></code> 是把資料點設為直徑為 0.25 cm 的圓形 (<code class="docutils literal notranslate"><span class="pre">c</span></code>，circle)，而 <code class="docutils literal notranslate"><span class="pre">-Sd3c</span></code> 則是外接圓直徑為 3 cm 的菱形 (<code class="docutils literal notranslate"><span class="pre">d</span></code>，diamond)。<strong>如果不給尺寸的話，GMT 會尋找資料檔案中的第三欄，並且以其數值當作對應的資料點的尺寸</strong>。這個規則在我們要畫不同大小的資料點時，非常方便。在這裡，我們的資料只有 x 與 y 兩欄，因此把所有的點設成一樣大小就行了。另外，你會發現繪圖區目前是 15 cm x 15 cm 的正方形，如果你想要任意調整 X 或 Y 軸的長度的話，需要在 <code class="docutils literal notranslate"><span class="pre">-JX</span></code> 後分開指定，如 <code class="docutils literal notranslate"><span class="pre">-JX15c/10c</span></code> 會把 X 軸設成 15 cm，Y 軸設成 10 cm。讓我們使用以上新增的選項，重畫一次看看：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt plot zzh.txt -R-1/23/0/7 -JX15c/10c -Sc0.35c -G#58C73A -W0.03c,black -Baf -png zzh
<span class="c1"># -G: 標記填色</span>
<span class="c1"># -W: 標記外框畫筆</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig3.png"><img alt="../_images/scatter_plot_gmt6_fig3.png" class="align-center" src="../_images/scatter_plot_gmt6_fig3.png" style="width: 1000px;" /></a>
<p>選擇了適當的標記樣式與填色，與粗一點的標記框線，看起來就會美觀許多。</p>
<p><code class="docutils literal notranslate"><span class="pre">plot</span></code> 除了可以從檔案中讀取資料外，也可以從標準輸入 (standard input, <code class="docutils literal notranslate"><span class="pre">stdin</span></code>) 讀取資料。這樣一來，我們就可以直接在腳本或命令列中給定座標點。常見的作法有兩種：</p>
<ol class="arabic">
<li><p>使用管線命令，把前一個指令的輸出傳給 <code class="docutils literal notranslate"><span class="pre">plot</span></code>。例如在各種作業系統終端機都有的 <code class="docutils literal notranslate"><span class="pre">echo</span></code> 指令：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">echo</span> <span class="s2">&quot;10.2 3.2&quot;</span> <span class="p">|</span> gmt plot -選項們
</pre></div>
</div>
<p>如此一來，(10.2, 3.2) 就會被當成座標點畫在圖上。</p>
</li>
<li><p>使用標準輸入重導向搭配結束的輸入字元 (<code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> 符號)：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt plot -選項們 <span class="s">&lt;&lt; END</span>
<span class="s">...任意的多行資料...</span>
<span class="s">END</span>
</pre></div>
</div>
<p>在 <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> 符號後可以為任意的字符串，此例為 <code class="docutils literal notranslate"><span class="pre">END</span></code>。從下一行開始，一直到第二個 <code class="docutils literal notranslate"><span class="pre">END</span></code> 的前一行，都會被當作 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 的輸入資訊。</p>
</li>
</ol>
<p>為了完成本章目標，我們需要在 <em>x = 0</em> 之處畫一條灰色的垂直虛線，以表明有一個點溫度低於零度。運用 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 預設的繪線模式與上述的第二種作法，就可以簡單的畫出。在以下的腳本中，我們順便把第二組數據也畫上去了，使用標記是藍色的菱形：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 設定變數 ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>

gmt begin windspeed_vs_temperature png
    <span class="c1"># ==== 繪點 ====</span>
    gmt plot <span class="nv">$zzh</span>  -R-1/23/0/7 -JX15c/10c -Sc0.35c -G#58C73A -W0.03c,black -Baf
    gmt plot <span class="nv">$suao</span> -Sd0.35c -G#3A6BC7 -W0.03c,black

    <span class="c1"># ==== 灰色垂直虛線 ====</span>
    gmt plot -W0.03c,100,-- <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>

gmt end
</pre></div>
</div>
<p>這條灰色的線寬度是 0.03 cm，並且連接 (0, 0) 與 (0, 7) 兩點。</p>
<div class="admonition attention">
<p class="admonition-title">注意</p>
<p>注意在輸入多行資料的時候，資料和結束字元前面不能有任何空格，這就是為什麼以上的腳本有三行不縮排的原因。如果你覺得這樣不美觀，可以使用另一種標準輸入重導向字元 <code class="docutils literal notranslate"><span class="pre">&lt;&lt;-</span></code>，不過你的<strong>縮排字符限定只能使用 tab</strong>，如下所示：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># (前略)</span>
gmt begin windszzh.txtpeed_vs_temperature_gmt6 png
        <span class="c1"># ==== 繪點 ====</span>
        gmt plot <span class="nv">$zzh</span>  -R-1/23/0/7 -JX15c/10c -Sc0.35c -G#58C73A -W0.03c,black -Baf
        gmt plot <span class="nv">$suao</span> -Sd0.35c -G#3A6BC7 -W0.03c,black

        <span class="c1"># ==== 灰色垂直虛線 ====</span>
        gmt plot -W0.03c,100,-- <span class="s">&lt;&lt;- LINEEND</span>
<span class="s">        0 0</span>
<span class="s">        0 7</span>
<span class="s">        LINEEND</span>
gmt end
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;-</span></code> 重導向字元會把資料結束字元前面的 <code class="docutils literal notranslate"><span class="pre">tab</span></code> 區塊移除，使 <code class="docutils literal notranslate"><span class="pre">LINEEND</span></code> 結束字元能夠正確的被讀取。</p>
</div>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig4.png"><img alt="../_images/scatter_plot_gmt6_fig4.png" class="align-center" src="../_images/scatter_plot_gmt6_fig4.png" style="width: 1000px;" /></a>
<div class="admonition note">
<p class="admonition-title">備註</p>
<p><code class="docutils literal notranslate"><span class="pre">plot</span></code> <strong>無法同時畫線又畫點</strong>。如果你有這方面的需求 (例如繪製折線圖)，需要使用兩次 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 指令，畫完線後再把點也標上去。</p>
</div>
<p>不知你是否覺得，以上腳本實在說不上美觀，要改動也很麻煩？問題的原因，出在第一個 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 指令。為了設定 <code class="docutils literal notranslate"><span class="pre">-R</span></code>、<code class="docutils literal notranslate"><span class="pre">-J</span></code> 與一些額外設定，第一個 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 指令硬是會比第二個 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 要長。考慮到這兩個指令在繪圖中有等量的效果 (都是畫上一組數據的散佈圖)，如果有更適當的方式，能夠先把該設定的選項設定好，讓兩個 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 的效果看起來更直觀就好了。</p>
<p>這時候，總算輪到 <code class="docutils literal notranslate"><span class="pre">basemap</span></code> 指令上場！<code class="docutils literal notranslate"><span class="pre">basemap</span></code> 是<strong>專門用來設定底圖與邊框樣式</strong>的指令。在短的腳本中，我們可以透過其他指令附帶的 <code class="docutils literal notranslate"><span class="pre">-B</span></code> 或是其他選項來設定底圖與邊框，但是當腳本一長，或是當你想要調整許多有關的預設選項時，使用 <code class="docutils literal notranslate"><span class="pre">basemap</span></code> 可以讓你的腳本看起來更清晰易懂。讓我們再次回到這兩行指令</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt plot <span class="nv">$zzh</span>  -R-1/23/0/7 -JX15c/10c -Sc0.35c -G#58C73A -W0.03c,black -Baf
gmt plot <span class="nv">$suao</span> -Sd0.35c -G#3A6BC7 -W0.03c,black
</pre></div>
</div>
<p>我們可以把地圖的通用選項移到 <code class="docutils literal notranslate"><span class="pre">basmap</span></code> 中，因此以上指令也可以寫成這樣</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt basemap -R-1/23/0/7 -JX15c/10c -Baf
gmt plot <span class="nv">$zzh</span>  -Sc0.35c -G#58C73A -W0.03c,black
gmt plot <span class="nv">$suao</span> -Sd0.35c -G#3A6BC7 -W0.03c,black
</pre></div>
</div>
<p>如此一來，兩行 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 指令各自的功用就一目了然：它們只是處理並繪製不同的資料點，但繪製的方法是相同的。你可以把所有選項與語法格式都互相對齊以求美觀，而所有通用的設定，包括 <code class="docutils literal notranslate"><span class="pre">-R</span></code>、<code class="docutils literal notranslate"><span class="pre">-J</span></code>、<code class="docutils literal notranslate"><span class="pre">-B</span></code> 等，全部都丟到 <code class="docutils literal notranslate"><span class="pre">basemap</span></code> 就對了。</p>
<p>現在腳本的第一個指令是以 <code class="docutils literal notranslate"><span class="pre">basemap</span></code> 開頭。當然，我們可以在這個指令中一併設定標題與座標軸標籤。在「<a class="reference internal" href="making_first_map.html"><span class="doc">製作第一張地圖</span></a>」中，我們有提到標題可以使用 <code class="docutils literal notranslate"><span class="pre">-B+t</span></code> 添加，而在「<a class="reference internal" href="editing_cpt_colorbar.html"><span class="doc">色階檔的編修與呈現</span></a>」中，我們也提到了要使用 <code class="docutils literal notranslate"><span class="pre">-B[x或y]+l</span></code> 添加座標軸的標籤。因此，我們就來添加一些文字說明吧：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 設定變數 ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>
<span class="nv">zzh_style</span><span class="o">=</span><span class="s2">&quot;-Sc0.35c -G#58C73A -W0.03c,black&quot;</span>
<span class="nv">suao_style</span><span class="o">=</span><span class="s2">&quot;-Sd0.35c -G#3A6BC7 -W0.03c,black&quot;</span>

gmt begin windspeed_vs_temperature png
    <span class="c1"># ==== 版面與作圖區設定 ====</span>
    <span class="c1"># -Baf 現在拆成了 -Bxaf 與 -Bya2f，</span>
    <span class="c1"># 你可以分開給定 x 軸與 y 軸的 a、f、g 選項！</span>
    gmt basemap -R-1/23/0/7 -JX15c/10c -B+t<span class="s2">&quot;January 2016&quot;</span> <span class="se">\</span>
                -Bxaf+l<span class="s2">&quot;Temperature (degree C)&quot;</span> -Bya2f+l<span class="s2">&quot;Wind Speed (m s-1)&quot;</span>
    <span class="c1"># ==== 繪點 ====</span>
    gmt plot <span class="nv">$zzh</span>  <span class="nv">$zzh_style</span>
    gmt plot <span class="nv">$suao</span> <span class="nv">$suao_style</span>

    <span class="c1"># ==== 灰色垂直虛線 ====</span>
    gmt plot -W0.03c,100,-- <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>

gmt end
</pre></div>
</div>
<p>以上腳本的出圖如下：</p>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig5.png"><img alt="../_images/scatter_plot_gmt6_fig5.png" class="align-center" src="../_images/scatter_plot_gmt6_fig5.png" style="width: 1000px;" /></a>
<p>嗯，座標軸標籤會同時出現在上下及左右兩邊，看起來有點多餘；另外，縱軸的單位 <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s-1</span></code> (公尺/秒) 的 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 應該要上標，才是正確的寫法。除此之外，如果 <code class="docutils literal notranslate"><span class="pre">degree</span> <span class="pre">C</span></code> 能夠直接表示成 <code class="docutils literal notranslate"><span class="pre">°C</span></code> 的話，更顯得簡潔有力。要做到以上修改並不困難，首先，我們可以使用 <code class="docutils literal notranslate"><span class="pre">-BWSne</span></code> 選項讓左邊和下方顯現座標軸和其標籤，而右邊和上方只顯示座標軸。如果要在文字中顯示上下標，需要加上 <strong>GMT 專用的控制字元</strong> <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>。<code class="docutils literal notranslate"><span class="pre">&#64;+</span></code> 是上標，<code class="docutils literal notranslate"><span class="pre">&#64;-</span></code> 則是下標。被上下標控制字元包起來的字就會顯示為上下標。因此，我們只要把 <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s-1</span></code> 改成 <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s&#64;+-1&#64;+</span></code> 即可。攝氏度數的符號也可以使用此控制字元來顯示，代號是 <code class="docutils literal notranslate"><span class="pre">&#64;.</span></code>。</p>
<div class="admonition tip">
<p class="admonition-title">小訣竅</p>
<p>嚴格說來，<code class="docutils literal notranslate"><span class="pre">&#64;+</span></code> 控制的是上標的開啟與關閉，因此 <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s&#64;+-1</span></code> 其實就能使 <code class="docutils literal notranslate"><span class="pre">-1</span></code> 上標。然而，筆者建議還是養成良好習慣，頭跟尾都加上控制字元，不只易於判讀跟修改，也跟 <a class="reference external" href="https://zh.wikipedia.org/wiki/LaTeX">LaTeX</a> 的語法概念類似。有關控制字元可操作的其他字串設定，請參考 <a class="reference external" href="https://docs.generic-mapping-tools.org/latest/cookbook/features.html#character-escape-sequences">GMT Cookbook</a>。</p>
</div>
<p>把以上更動整理到腳本中，「版面與作圖區設定」的部份就會變成這樣：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 版面與作圖區設定 ====</span>
gmt basemap -R-1/23/0/7 -JX15c/10c -BWSne+t<span class="s2">&quot;January 2016&quot;</span> -Bxaf+l<span class="s2">&quot;Temperature (@.C)&quot;</span> -Bya2f+l<span class="s2">&quot;Wind Speed (m s@+-1@+)&quot;</span>
</pre></div>
</div>
<p>修改後的座標軸看起來就清爽多了！</p>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig6.png"><img alt="../_images/scatter_plot_gmt6_fig6.png" class="align-center" src="../_images/scatter_plot_gmt6_fig6.png" style="width: 1000px;" /></a>
<p>為了完成 XY 散佈圖，我們最後還得加上圖例，告訴讀者兩筆不同資料代表的意義。GMT 本身其實備有 <code class="docutils literal notranslate"><span class="pre">legend</span></code> 指令，用來繪製豪華的圖例，但在本例子中，我們將會示範另一種比較「土法煉鋼」，但是較為直觀的作法，這種作法對於簡單的圖例繪製是綽綽有餘。首先，我們要畫一個圖例框架，<code class="docutils literal notranslate"><span class="pre">plot</span></code> 又會再次派上用場。如果要用 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 畫封閉的多邊形，只要指定所有的頂點座標，然後輔以 <code class="docutils literal notranslate"><span class="pre">-G</span></code> 指定填色，圖中所有的頂點就會連起來形成多邊形。以下的腳本片段，會以 (16, 5)、(22, 5)、(22, 6.5) 和 (16, 6.5) 為頂點，畫一個顏色為 <code class="docutils literal notranslate"><span class="pre">#E6F4F2</span></code> 的矩形。你可以把此片段插在 <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">end</span></code> 之前：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 圖例框與圖例內容 ====</span>
gmt plot -W0.05c,black -G#E6F4F2 <span class="s">&lt;&lt; BOXEND</span>
<span class="s">16 5</span>
<span class="s">22 5</span>
<span class="s">22 6.5</span>
<span class="s">16 6.5</span>
<span class="s">BOXEND</span>
</pre></div>
</div>
<p>接下來，圖例框中需要放入之前使用過的符號與相對應的文字說明。符號同樣可以透過 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 繪製，這次我們使用 <code class="docutils literal notranslate"><span class="pre">echo</span></code> 指令與管線命令，來把前面用的符號畫到圖例框中。當然，你必須要自己決定符號出現的座標，如下所示：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;17 6.05&quot;</span> <span class="p">|</span> gmt plot <span class="nv">$zzh_style</span>
<span class="nb">echo</span> <span class="s2">&quot;17 5.45&quot;</span> <span class="p">|</span> gmt plot <span class="nv">$suao_style</span>
</pre></div>
</div>
<p>畫完符號後，只要再標上文字說明，本章目標就大功告成。GMT 具有 <code class="docutils literal notranslate"><span class="pre">text</span></code> 指令，可以在指定的座標擺上給定的文字。<code class="docutils literal notranslate"><span class="pre">text</span></code> 的用法與 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 極為相似，只不過至少要有三欄輸入資料，<strong>前兩欄為 xy 座標，第三欄為欲顯示的文字</strong>。另外，<code class="docutils literal notranslate"><span class="pre">text</span></code> 還具有專有的文字格式調整選項 <code class="docutils literal notranslate"><span class="pre">-F</span></code>。<code class="docutils literal notranslate"><span class="pre">-F</span></code> 下比較重要的選項為</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-F+f<span class="o">[</span>字形屬性<span class="o">]</span>+j<span class="o">[</span>對齊錨點位置<span class="o">]</span>    <span class="c1"># 實際上不只這些，但其餘暫略</span>
</pre></div>
</div>
<p>其中 <code class="docutils literal notranslate"><span class="pre">字形屬性</span></code> 的給定方法非常類似畫筆屬性，由 <code class="docutils literal notranslate"><span class="pre">字體大小,字體名稱,顏色</span></code> 三個參數所構成。這裡我們暫時只改動字體大小為 14 點 (<code class="docutils literal notranslate"><span class="pre">14p</span></code>)，其餘維持預設。(更多給定字形屬性的細節請參閱<a class="reference internal" href="layout_design.html"><span class="doc">版面設計與地圖的幾何布局</span></a>)。<code class="docutils literal notranslate"><span class="pre">對齊錨點位置</span></code> 則是沿用上一章「<a class="reference internal" href="pen_and_painting.html"><span class="doc">畫筆與調色技巧</span></a>」提到的<strong>九宮格錨點</strong>位置來告訴 GMT 文字的對齊方法，例如我們等下要使用的 <code class="docutils literal notranslate"><span class="pre">+jML</span></code> 會讓文字「靠左對齊、垂直置中」給定的座標點。輸入文字的指定整體來看就如下所示：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;18 6.05 Zhuzihu&quot;</span> <span class="p">|</span> gmt text -F+f14p+jML
<span class="nb">echo</span> <span class="s2">&quot;18 5.45 Su&#39;ao&quot;</span>   <span class="p">|</span> gmt text -F+f14p+jML
</pre></div>
</div>
<p>第一行會把 (18, 6.05) 設為 <code class="docutils literal notranslate"><span class="pre">Zhuzihu</span></code> (竹子湖) 文字的最左側，而第二行則是使用相同的指令設定 <code class="docutils literal notranslate"><span class="pre">Su'ao</span></code> (蘇澳) 文字出現的地方，圖例到此就設計完成！</p>
<div class="admonition tip">
<p class="admonition-title">小訣竅</p>
<p><code class="docutils literal notranslate"><span class="pre">text</span></code> 也可以讓使用者一次輸入多個字串，所以其實這兩行 <code class="docutils literal notranslate"><span class="pre">text</span></code> 指令也可以寫成</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt text -F+f14p+jML <span class="s">&lt;&lt; TEXTEND</span>
<span class="s">18 6.05 Zhuzihu</span>
<span class="s">18 5.45 Su&#39;ao</span>
<span class="s">TEXTEND</span>
</pre></div>
</div>
<p>兩種寫法效果一模一樣，端看你喜歡哪種都可以。事實上，<code class="docutils literal notranslate"><span class="pre">text</span></code> 也接受多欄的輸入，這樣一來你可以把所有想輸入的文字都寫在檔案內，再分別指定不同的顏色、文字格式等等。詳細說明請參閱<a class="reference internal" href="layout_design.html"><span class="doc">版面設計與地圖的幾何布局</span></a>。</p>
</div>
</section>
<section id="id9">
<h2><span class="section-number">7.5. </span>指令稿<a class="headerlink" href="#id9" title="本標題的永久連結">#</a></h2>
<p>本地圖的最終指令稿如下：</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== 設定變數 ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>
<span class="nv">zzh_style</span><span class="o">=</span><span class="s2">&quot;-Sc0.35c -G#58C73A -W0.03c,black&quot;</span>
<span class="nv">suao_style</span><span class="o">=</span><span class="s2">&quot;-Sd0.35c -G#3A6BC7 -W0.03c,black&quot;</span>

gmt begin windspeed_vs_temperature png
    <span class="c1"># ==== 版面與作圖區設定 ====</span>
    gmt basemap -R-1/23/0/7 -JX15c/10c -BWSne+t<span class="s2">&quot;January 2016&quot;</span> -Bxaf+l<span class="s2">&quot;Temperature (@.C)&quot;</span> -Bya2f+l<span class="s2">&quot;Wind Speed (m s@+-1@+)&quot;</span>

    <span class="c1"># ==== 繪點 ====</span>
    gmt plot <span class="nv">$zzh</span>  <span class="nv">$zzh_style</span>
    gmt plot <span class="nv">$suao</span> <span class="nv">$suao_style</span>

    <span class="c1"># ==== 灰色垂直虛線 ====</span>
    gmt plot -W0.03c,100,-- <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>

    <span class="c1"># ==== 圖例框與圖例內容 ====</span>
    gmt plot -W0.05c,black -G#E6F4F2 <span class="s">&lt;&lt; BOXEND</span>
<span class="s">16 5</span>
<span class="s">22 5</span>
<span class="s">22 6.5</span>
<span class="s">16 6.5</span>
<span class="s">BOXEND</span>

    <span class="nb">echo</span> <span class="s2">&quot;17 6.05&quot;</span> <span class="p">|</span> gmt plot <span class="nv">$zzh_style</span>
    <span class="nb">echo</span> <span class="s2">&quot;17 5.45&quot;</span> <span class="p">|</span> gmt plot <span class="nv">$suao_style</span>
    <span class="nb">echo</span> <span class="s2">&quot;18 6.05 Zhuzihu&quot;</span> <span class="p">|</span> gmt text -F+f14p+jML
    <span class="nb">echo</span> <span class="s2">&quot;18 5.45 Su&#39;ao&quot;</span> <span class="p">|</span> gmt text -F+f14p+jML
gmt end
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">備註</p>
<p>「以兩個不同氣象站的 2016 年 1 月風速與氣溫觀測資料，繪製 XY 散佈圖。攝氏 0 度以灰色垂直線表示。圖例、座標軸皆已清楚的標示。」</p>
</div>
<p>觀看<a class="reference internal" href="#id4">最終版圖片</a></p>
</section>
<section id="pygmt">
<h2><span class="section-number">7.6. </span>PyGMT 指令稿<a class="headerlink" href="#pygmt" title="本標題的永久連結">#</a></h2>
<p>使用 PyGMT，可以如下腳本繪製本地圖：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pygmt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="c1"># 需要 Numpy 來讀取檔案中的資料</span>

<span class="c1"># ==== 設定變數 ====</span>
<span class="c1"># 我們使用 numpy.loadtxt 載入資料表，然後資料點樣式使用 Python 的 Dictionary 來指定。</span>
<span class="n">zzh</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;zzh.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">suao</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;suao.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">zzh_style</span>  <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;c0.35c&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#58C73A&#39;</span><span class="p">,</span> <span class="s1">&#39;pen&#39;</span><span class="p">:</span> <span class="s1">&#39;0.03c,black&#39;</span><span class="p">}</span>
<span class="n">suao_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;d0.35c&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#3A6BC7&#39;</span><span class="p">,</span> <span class="s1">&#39;pen&#39;</span><span class="p">:</span> <span class="s1">&#39;0.03c,black&#39;</span><span class="p">}</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">pygmt</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

<span class="c1"># ==== 版面與作圖區設定 ====</span>
<span class="n">fig</span><span class="o">.</span><span class="n">basemap</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;X15c/10c&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;WSne+t&quot;January 2016&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;xaf+l&quot;Temperature (@.C)&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;ya2f+l&quot;Wind Speed (m s@+-1@+)&quot;&#39;</span><span class="p">])</span>

<span class="c1"># ==== 繪點 ====</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">zzh</span><span class="p">,</span>  <span class="o">**</span><span class="n">zzh_style</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">suao</span><span class="p">,</span> <span class="o">**</span><span class="n">suao_style</span><span class="p">)</span>

<span class="c1"># ==== 灰色垂直虛線 ====</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">pen</span><span class="o">=</span><span class="s1">&#39;0.03c,100,--&#39;</span><span class="p">)</span>

<span class="c1"># ==== 圖例框與圖例內容 ====</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">],</span> <span class="n">pen</span><span class="o">=</span><span class="s1">&#39;0.05c,black&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#E6F4F2&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="mi">17</span><span class="p">,</span> <span class="mf">6.05</span><span class="p">]],</span>  <span class="o">**</span><span class="n">zzh_style</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="mi">17</span><span class="p">,</span> <span class="mf">5.45</span><span class="p">]],</span>  <span class="o">**</span><span class="n">suao_style</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">6.05</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Zhuzihu&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;14p&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;ML&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">5.45</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Su&#39;ao&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;14p&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;ML&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;windspeed_vs_temperature_pygmt.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>你可以使用以下的 Binder 連結嘗試此程式碼：</p>
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/whyjz/GMT-tutorials/HEAD?filepath=SOURCE_DOCS%2Fscatter_plot%2Fwindspeed_vs_temperature_pygmt.ipynb"><img alt="https://mybinder.org/badge_logo.svg" src="https://mybinder.org/badge_logo.svg" /></a>
</section>
<section id="id10">
<h2><span class="section-number">7.7. </span>習題<a class="headerlink" href="#id10" title="本標題的永久連結">#</a></h2>
<ol class="arabic simple">
<li><p>本章使用的資料事實上是依照時間排序的，每日只有一個測量數值。因此，請利用本章中提供的數據，畫出竹子湖與蘇澳測站在 2016 年 1 月份的氣溫每日變化的<strong>折線圖</strong>。</p></li>
<li><p>請利用 <code class="docutils literal notranslate"><span class="pre">plot</span></code> 畫出「<a class="reference external" href="https://zh.wikipedia.org/wiki/%E5%A4%A7%E8%A1%9B%E6%98%9F">大衛之星</a>」。</p></li>
</ol>
<dl class="footnote brackets">
<dt class="label" id="id12"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p><a class="reference external" href="http://www.appledaily.com.tw/realtimenews/article/new/20160124/782086/">頻果日報，2016 年 1 月 24 日新聞</a>。</p>
</dd>
</dl>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./main"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="pen_and_painting.html" title="上一頁 頁">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">上一頁</p>
            <p class="prev-next-title"><span class="section-number">6. </span>畫筆與調色技巧</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="cpt_colormap.html" title="下一頁 頁">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">下一頁</p>
        <p class="prev-next-title"><span class="section-number">8. </span>使用色階表為網格資料著色</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
 <div id="disqus_thread"></div> <script> var disqus_config = function () {this.page.url = 'http://gmt-tutorial.org/scatter_plot.html'; this.page.identifier = 'scatter_plot'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//gmt-tutorials.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By <a href="https://whyjz.github.io/">鄭懷傑 (Whyjay Zheng)</a> | <a href="https://twitter.com/WhyjayZ"><i class="fa-brands fa-twitter"></i></a><br/>
  
    Last updated on 8月 05, 2022.<br/>
    <div class="extra_footer">
      &copy; 2016-2022. <a href="https://github.com/whyjz/GMT-tutorials/blob/master/LICENSE.md">MIT</a> 
and <a href="http://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a> dual licensed. <br>
Found this tutorial helpful? <a href="https://www.paypal.com/donate?hosted_button_id=68GZNRJ3MZDBE">Buy me a milktea!</a>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>