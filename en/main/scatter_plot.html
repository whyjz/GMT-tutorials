
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>4. Scatter Plot &#8212; GMT Tutorials </title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

 <link href='https://fonts.googleapis.com/css?family=Varela Round' rel='stylesheet'>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.2/css/all.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/style.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script src="../_static/tabs.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://gmt-tutorials.org/main/scatter_plot.html" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1. Visualize Raster Data Using a Colormap" href="cpt_colormap.html" />
    <link rel="prev" title="3. Pen and Painting" href="pen_and_painting.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en">
    

    <!-- Google Analytics -->
    
  </head>
 <script type="text/javascript">var _jf = _jf || [];_jf.push(['p','39630']);_jf.push(['_setFont','sourcehansans-tc-light','css','.sourcehansans-tc-light']);_jf.push(['_setFont','sourcehansans-tc-light','alias','sourcehansans-tc']);_jf.push(['_setFont','sourcehansans-tc-light','weight',200]);_jf.push(['_setFont','sourcehansans-tc-regular','css','.sourcehansans-tc-regular']);_jf.push(['_setFont','sourcehansans-tc-regular','alias','sourcehansans-tc']);_jf.push(['_setFont','sourcehansans-tc-regular','weight',400]);_jf.push(['_setFont','cwtexqyuan','css','.cwtexqyuan']);_jf.push(['_setFont','cwtexqyuan','alias','cwtexqyuan']);_jf.push(['_setFont','cwtexqyuan','weight',500]);_jf.push(['_setFont','xingothic-tc-w7','css','.xingothic-tc-w7']);_jf.push(['_setFont','xingothic-tc-w7','alias','xingothic-tc']);_jf.push(['_setFont','xingothic-tc-w7','weight',700]);_jf.push(['_setFont','jf-jinxuan-medium','css','.jf-jinxuan-medium']);_jf.push(['_setFont','jf-jinxuan-medium','alias','jf-jinxuan']);_jf.push(['_setFont','jf-jinxuan-medium','weight',600]);(function(f,q,c,h,e,i,r,d){var k=f._jf;if(k.constructor===Object){return}var l,t=q.getElementsByTagName("html")[0],a=function(u){for(var v in k){if(k[v][0]==u){if(false===k[v][1].call(k)){break}}}},j=/\S+/g,o=/[\t\r\n\f]/g,b=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g="".trim,s=g&&!g.call("\uFEFF\xA0")?function(u){return u==null?"":g.call(u)}:function(u){return u==null?"":(u+"").replace(b,"")},m=function(y){var w,z,v,u,x=typeof y==="string"&&y;if(x){w=(y||"").match(j)||[];z=t[c]?(" "+t[c]+" ").replace(o," "):" ";if(z){u=0;while((v=w[u++])){if(z.indexOf(" "+v+" ")<0){z+=v+" "}}t[c]=s(z)}}},p=function(y){var w,z,v,u,x=arguments.length===0||typeof y==="string"&&y;if(x){w=(y||"").match(j)||[];z=t[c]?(" "+t[c]+" ").replace(o," "):"";if(z){u=0;while((v=w[u++])){while(z.indexOf(" "+v+" ")>=0){z=z.replace(" "+v+" "," ")}}t[c]=y?s(z):""}}},n;k.push(["_eventActived",function(){p(h);m(e)}]);k.push(["_eventInactived",function(){p(h);m(i)}]);k.addScript=n=function(u,A,w,C,E,B){E=E||function(){};B=B||function(){};var x=q.createElement("script"),z=q.getElementsByTagName("script")[0],v,y=false,D=function(){x.src="";x.onerror=x.onload=x.onreadystatechange=null;x.parentNode.removeChild(x);x=null;a("_eventInactived");B()};if(C){v=setTimeout(function(){D()},C)}x.type=A||"text/javascript";x.async=w;x.onload=x.onreadystatechange=function(G,F){if(!y&&(!x.readyState||/loaded|complete/.test(x.readyState))){y=true;if(C){clearTimeout(v)}x.src="";x.onerror=x.onload=x.onreadystatechange=null;x.parentNode.removeChild(x);x=null;if(!F){setTimeout(function(){E()},200)}}};x.onerror=function(H,G,F){if(C){clearTimeout(v)}D();return true};x.src=u;z.parentNode.insertBefore(x,z)};a("_eventPreload");m(h);n(r,"text/javascript",false,3000)})(this,this.document,"className","jf-loading","jf-active","jf-inactive","//ds.justfont.com/js/stable/v/5.0.2/id/166657211014");</script>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">GMT Tutorials </h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form> <div class="langcenter"> <nav class="menu"> <ul class="clearfix"> <li class="current-item"> <a href="#" class="clicker">English <span class="arrow">&#9660;</span></a> <ul class="sub-menu"> <li><a href="../../main/scatter_plot.html">中文 (台灣)</a></li> <li><a href="scatter_plot.html">English</a></li> </ul> </li> </ul> </nav> </div> 
<nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  入門與概述
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="intro_install.html">
   1. GMT / PyGMT Introduction and Installation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="software.html">
   2. Software and Packages
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="basic_concept.html">
   3. Basic Concepts and Terms
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  基本繪圖技巧
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="making_first_map.html">
   1. Make Your First Map
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="coloring_topography.html">
   2. Color the Topography
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="pen_and_painting.html">
   3. Pen and Painting
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   4. Scatter Plot
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  製作各種常見的地圖（基礎）
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="cpt_colormap.html">
   1. Visualize Raster Data Using a Colormap
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="plot_vector_data.html">
   2. Plot Vector Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="layout_design.html">
   3. Design Map Layout
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="hillshading.html">
   4. Hillshade Map
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="contour_and_profile.html">
   5. Contours and Profiles
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="map_elements.html">
   6. Add Map Elements
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  製作各種常見的地圖（進階）
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="editing_cpt_colorbar.html">
   1. Edit CPT and Colorbar
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="view3d.html">
   2. 3D Map
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="focal_mech.html">
   3. Plot Focal Mechanisms
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="draping.html">
   4. Drape an Image over Topography
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  網格資料處理
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="raster_calculator.html">
   1. Raster Calculator
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="basic_img_processing.html">
   2. Basic Image Processing
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  數值資料處理
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="stat_histogram.html">
   1. Statistics and Histogram
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="regression_basics.html">
   2. Perform Regression Analysis
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  附錄與學習資源
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="data_credit.html">
   1. Data credits and References
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="command_index.html">
   2. Command Index
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="gallery.html">
   3. Gallery (Chapter Index)
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>
<a href="https://github.com/whyjz/GMT-tutorials"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="bottom"
title="Source repository"
>
  

<span class="headerbtn__icon-container">
  <i class="fab fa-github"></i>
  </span>

</a>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="../_sources/main/scatter_plot.rst"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   4.1. Goal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   4.2. Commands and Techniques
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   4.3. Tasks before plotting
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   4.4. Procedure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   4.5. Script
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pygmt">
   4.6. PyGMT 指令稿
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   4.7. Exercise
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Scatter Plot</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id2">
   4.1. Goal
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id5">
   4.2. Commands and Techniques
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id6">
   4.3. Tasks before plotting
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id8">
   4.4. Procedure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id9">
   4.5. Script
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#pygmt">
   4.6. PyGMT 指令稿
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#id10">
   4.7. Exercise
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="xy">
<h1><span class="section-number">4. </span>Scatter Plot<a class="headerlink" href="#xy" title="Permalink to this headline">#</a></h1>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>This instruction is for the Modern Mode in GMT 6. For making the same map using the GMT 6 Classic Mode or GMT 4-5, <a class="reference external" href="scatter_plot_gmt5.html">Please go to this page</a> (only final script available).</p>
</div>
<p>The most common and important graph type for data analysis is definitely X-Y scatter plots. We have learned that GMT is excellent for making maps, but in fact, it is also capable of processing non-spatial data and visualized them pretty well. In this chapter, we will introduce a command used to draw points, lines, and polygons: <code class="docutils literal notranslate"><span class="pre">plot</span></code> (or <code class="docutils literal notranslate"><span class="pre">psxy</span></code> in older versions of GMT). We will also show some associated tricks for plotting figures, which are useful for both spatial and non-spatial data.</p>
<section id="id2">
<h2><span class="section-number">4.1. </span>Goal<a class="headerlink" href="#id2" title="Permalink to this headline">#</a></h2>
<p>Using the data from the <em>Central Weather Bureau</em>, Taiwan, Make an X-Y scatter plot showing wind speed versus temperature. We use the daily weather data in January 2016 from two weather stations: Zhuzihu (竹子湖) and Su’ao (蘇澳). Each station is labeled with a distinct color and marker. We can see something interesting from the plot:</p>
<ul class="simple">
<li><p>There is a negative correlation between wind speed and temperature; that is, the lower the temperature, the faster the wind blows.</p></li>
<li><p>The temperature in Zhuzihu is usually lower than Su’ao. Also, there are still few days warmer than 20 degrees Celcius in Su’ao.</p></li>
<li><p>There was one day when the temperature in Zhuzihu dropped below 0 degrees Celcius. In fact, this is a special snow day since Zhuzihu had had no snowfall for 11 years before 2016 <a class="footnote-reference brackets" href="#id12" id="id3">1</a>. The temperature on that day, influenced by a “super winter front,” looks like an outlier in the overall scattering trend.</p></li>
</ul>
<a class="reference internal image-reference" href="../_images/windspeed_vs_temperature_gmt6.png" id="id4"><img alt="../_images/windspeed_vs_temperature_gmt6.png" class="align-center" id="id4" src="../_images/windspeed_vs_temperature_gmt6.png" style="width: 1000px;" /></a>
<p>Go to the final <a class="reference internal" href="#id9">Script</a></p>
</section>
<section id="id5">
<h2><span class="section-number">4.2. </span>Commands and Techniques<a class="headerlink" href="#id5" title="Permalink to this headline">#</a></h2>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">info</span></code> - <strong>display basic information from a text-based numeric data file</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">plot</span></code> - <strong>plot points, lines, and polygons</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">basemap</span></code> - <strong>set up mapping area, axes, and map frame</strong></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">text</span></code> - <strong>Make text labels in a map</strong></p></li>
<li><p>External command <code class="docutils literal notranslate"><span class="pre">echo</span></code> - <strong>pass input data through a pipe</strong></p></li>
<li><p>GMT shared options: <code class="docutils literal notranslate"><span class="pre">-JX</span></code> (Cartesian plot)</p></li>
<li><p>How to import ASCII (text) data to GMT</p></li>
<li><p>How to import data to GMT via terminal or a script (standard input, aka stdin)</p></li>
<li><p>Plot a 2-D scatter plot</p></li>
<li><p>How to place an axis label and how to deal with special characters/formats</p></li>
<li><p>Make a simple legend</p></li>
</ul>
</section>
<section id="id6">
<h2><span class="section-number">4.3. </span>Tasks before plotting<a class="headerlink" href="#id6" title="Permalink to this headline">#</a></h2>
<p>We will use the data from the <strong>Central Weather Bureau’s observations</strong>. The dataset is available at the <a class="reference external" href="http://e-service.cwb.gov.tw/HistoryDataQuery/index.jsp">CWB observation data inquire system</a>. Select “TaipeiCity”, “ZHUZIHU”, and “monthly data” in the dropdown menu, and specify the time to January 2016. Press the “Query (查詢)” button, and you should see the following page:</p>
<img alt="../_images/scatter_plot_fig1.png" src="../_images/scatter_plot_fig1.png" />
<p>Select all content in the sheet, copy and paste them to an application like <em>Microsoft Excel</em> or <em>Libre Office Calc</em>. Next, you can choose one of the following two methods:</p>
<ol class="arabic">
<li><p>Delete all unnecessary data in the software except for the columns for Temperature and Wind Speed. Delete the header row (the first row with names of the columns) as well. Then save it as a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> comma-separated file.</p></li>
<li><p>Delete the header row (names of the columns), and save it as a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> comma-separated file. Then use shell commands to process the CSV file. For example, you can use this in the most Linux shells:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ cut -d <span class="s1">&#39;,&#39;</span> -f <span class="m">8</span>,17 yourfile.csv &gt; zzh.txt
</pre></div>
</div>
<p>Here the columns 8 and 17 are the data of temperature and wind speed, respectively.</p>
</li>
</ol>
<p>The output file <code class="docutils literal notranslate"><span class="pre">zzh.txt</span></code> can be opened directly in a text editor. The first few rows should look like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="m">14</span>.6,3.6
<span class="m">15</span>.7,0.2
<span class="m">16</span>,0.3
<span class="m">17</span>.7,0.3
<span class="m">17</span>.8,0.7
<span class="c1"># ....(skipped)....</span>
<span class="c1"># Column 1: Temperature (Celcius); Column 2: Wind Speed (m/sec)</span>
</pre></div>
</div>
<p>Now we are done setting data up to the GMT-compatible input format. Using the same workflow again, we can also get the dataset from the Su’ao (SU-AO) station (YiLanCounty at the first dropdown menu). Rename the processed GMT-compatible to <code class="docutils literal notranslate"><span class="pre">suao.txt</span></code>. GMT doesn’t need the <code class="docutils literal notranslate"><span class="pre">.txt</span></code> file extension when loading text data, but you have to make sure you use one of the following four characters to separate your columns: <strong>space</strong>, <strong>tab</strong>, <strong>comma</strong>, or <strong>semicomma</strong>. Before plotting the data, Remember to make sure your data can be loaded by GMT correctly.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Actually, you can choose not to delete any headers and columns. As long as you save your data as a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> file or other GMT-acceptable text format, there are options in the GMT commands that can parse the datasheet and only load part of the dataset you want. Please see <a class="reference external" href="https://docs.generic-mapping-tools.org/latest/cookbook/file_formats.html">GMT Official Manual</a> for more details.</p>
</div>
<p>For your convenience, you can also download the data used in this chapter from this link:</p>
<p><a class="reference download internal" download="" href="../_downloads/e105b59106d29e4a7a9d95a82d51cb84/zzh.txt"><code class="xref download docutils literal notranslate"><span class="pre">zzh.txt</span></code></a></p>
<p><a class="reference download internal" download="" href="../_downloads/161cab952455e2cd60b3b583862f17b1/suao.txt"><code class="xref download docutils literal notranslate"><span class="pre">suao.txt</span></code></a></p>
</section>
<section id="id8">
<h2><span class="section-number">4.4. </span>Procedure<a class="headerlink" href="#id8" title="Permalink to this headline">#</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">plot</span></code> is a tool for plotting point data on a map. When plotting non-spatial data, we use <code class="docutils literal notranslate"><span class="pre">-JX</span></code> as the <code class="docutils literal notranslate"><span class="pre">-J</span></code> option, and GMT will use Cartesian coordinates to set up the figure. But what about <code class="docutils literal notranslate"><span class="pre">-R</span></code>? You can use the built-in GMT command <code class="docutils literal notranslate"><span class="pre">info</span></code> to check the information of the text data real quick, like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt info zzh.txt
zzh.txt: <span class="nv">N</span> <span class="o">=</span> <span class="m">31</span>     &lt;-0.4/17.8&gt;     &lt;<span class="m">0</span>.2/6.3&gt;
<span class="c1"># Filename  Datapoints      Column1-Max/Min  Column2-Max/Min</span>
</pre></div>
</div>
<p>Since the values from the first and the second column will be used for x and y, we can determine the range of <code class="docutils literal notranslate"><span class="pre">-R</span></code> based on their minimum and maximum values. <code class="docutils literal notranslate"><span class="pre">info</span></code> command can also accept more than one input files as long as all the files have the same amount of columns. The syntax goes the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt info zzh.txt suao.txt
dataset: <span class="nv">N</span> <span class="o">=</span> <span class="m">62</span>     &lt;-0.4/21.6&gt;     &lt;<span class="m">0</span>.2/6.3&gt;
<span class="c1">#      Datapoints      Column1-Max/Min  Column2-Max/Min</span>
</pre></div>
</div>
<p>According to the output message from <code class="docutils literal notranslate"><span class="pre">info</span></code>, we know that all the data points can be shown within <code class="docutils literal notranslate"><span class="pre">-R-1/23/0/7</span></code> (x from -1 to 23; y from 0 to 7). Let’s take a look at our data:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt plot zzh.txt -R-1/23/0/7 -JX15c -Bafg -png zzh
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig2.png"><img alt="../_images/scatter_plot_gmt6_fig2.png" class="align-center" src="../_images/scatter_plot_gmt6_fig2.png" style="width: 1000px;" /></a>
<p>Ok, there are data in the figure, but this isn’t what we expected. This is because the default <code class="docutils literal notranslate"><span class="pre">plot</span></code> mode is <strong>line chart</strong>, which connects all the data points with lines. If we want only points using <code class="docutils literal notranslate"><span class="pre">plot</span></code>, we have to add the <code class="docutils literal notranslate"><span class="pre">-S</span></code> option. This option turns <code class="docutils literal notranslate"><span class="pre">plot</span></code> into the <strong>scatter plot mode</strong> and has the following syntax to set up the style of data points:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-S<span class="o">[</span>code<span class="o">][</span>size<span class="o">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">code</span></code> is a single character indicating different shapes, and what is referred to as <code class="docutils literal notranslate"><span class="pre">size</span></code> varies when the shape changes. The full list of the <code class="docutils literal notranslate"><span class="pre">code</span></code> is available at the <a class="reference external" href="https://docs.generic-mapping-tools.org/6.0/plot.html">manual page of plot</a>. For example, <code class="docutils literal notranslate"><span class="pre">-Sc0.25c</span></code> means to plot data with circles (<code class="docutils literal notranslate"><span class="pre">c</span></code>) with a diameter of 0.25 cm, and <code class="docutils literal notranslate"><span class="pre">-Sd3c</span></code> means diamonds (<code class="docutils literal notranslate"><span class="pre">d</span></code>) whose circumcircle size is 3 cm. <strong>If size is omitted, GMT will find the third column in the data table and use the number from there as the size of each point</strong>. This rule is especially convenient when we want to plot points with different sizes. Here our data table only has two columns – x and y – so that all the points will be in the same size. Also, you may find that the map now is a 15-by-15 cm square. If you would like to adjust the length of the x or y axis separately, you have to specify that after <code class="docutils literal notranslate"><span class="pre">-JX</span></code>. For example, <code class="docutils literal notranslate"><span class="pre">-JX15c/10c</span></code> sets the x-axis length at 15 cm and the y-axis length at 10 cm. Use these new options and draw our figure again:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt plot zzh.txt -R-1/23/0/7 -JX15c/10c -Sc0.35c -G#58C73A -W0.03c,black -Baf -png zzh
<span class="c1"># -G: Marker filling</span>
<span class="c1"># -W: Marker frame pen</span>
</pre></div>
</div>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig3.png"><img alt="../_images/scatter_plot_gmt6_fig3.png" class="align-center" src="../_images/scatter_plot_gmt6_fig3.png" style="width: 1000px;" /></a>
<p>Now the figure looks much better after changing a good combination of marker fill, style, and a thicker pen.</p>
<p>In addition to loading data from a file, <code class="docutils literal notranslate"><span class="pre">plot</span></code> can also reads data from the standard input (<code class="docutils literal notranslate"><span class="pre">stdin</span></code>). By doing this, we are able to give coordinates in the script or the terminal. There are two common ways to achieve this:</p>
<ol class="arabic">
<li><p>Use the pipe command and pass the output from the previous command to <code class="docutils literal notranslate"><span class="pre">plot</span></code>. For example, this shows the <code class="docutils literal notranslate"><span class="pre">echo</span></code> command that is available in many OS terminals:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">echo</span> <span class="se">\&quot;</span><span class="m">10</span>.2 <span class="m">3</span>.2<span class="se">\&quot;</span> <span class="p">|</span> gmt plot <span class="o">[</span>-options<span class="o">]</span>
</pre></div>
</div>
<p>Hence, (10.2, 3.2) will be plotted as a data point.</p>
</li>
<li><p>Redirect the standard input using the <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> characters at the end of a line:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ gmt plot -options <span class="s">&lt;&lt; END</span>
<span class="s">...Multi-line data table...</span>
<span class="s">END</span>
</pre></div>
</div>
<p>The string after the <code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code> characters can be anything you like. We use <code class="docutils literal notranslate"><span class="pre">END</span></code> here, for example. Starting from the next line, all the content here until the last line before we meet <code class="docutils literal notranslate"><span class="pre">END</span></code> again will be used as the data for <code class="docutils literal notranslate"><span class="pre">plot</span></code>.</p>
</li>
</ol>
<p>One of the chapter goals is to draw a gray vertical line at <em>x = 0</em>, which represents a point with temperature below the freezing point. We can simply draw this using the default mode of <code class="docutils literal notranslate"><span class="pre">plot</span></code> and the second way described above. In the following script, we also plot the second dataset using the blue diamond as point marks:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== Setting variables ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>

gmt begin windspeed_vs_temperature png
    <span class="c1"># ==== Scatter plot ====</span>
    gmt plot <span class="nv">$zzh</span>  -R-1/23/0/7 -JX15c/10c -Sc0.35c -G#58C73A -W0.03c,black -Baf
    gmt plot <span class="nv">$suao</span> -Sd0.35c -G#3A6BC7 -W0.03c,black

    <span class="c1"># ==== Gray vertical line ====</span>
    gmt plot -W0.03c,100,-- <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>

gmt end
</pre></div>
</div>
<p>The width of the gray line is 0.03 cm. It connects two points: (0, 0) and (0, 7).</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Note that when entering multi-line data in the script, no space is allowed at the beginning of any line, including the ending characters. This is why we don’t indent those three lines in the script. If you think this isn’t that beautiful, there is another stdin redirection symbol <code class="docutils literal notranslate"><span class="pre">&lt;&lt;-</span></code> you can use, but keep in mind that <strong>you can only use tab as the indentation character</strong> with this symbol, as shown here:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># (skipped)</span>
gmt begin windszzh.txtpeed_vs_temperature_gmt6 png
        <span class="c1"># ==== Scatter plot ====</span>
        gmt plot <span class="nv">$zzh</span>  -R-1/23/0/7 -JX15c/10c -Sc0.35c -G#58C73A -W0.03c,black -Baf
        gmt plot <span class="nv">$suao</span> -Sd0.35c -G#3A6BC7 -W0.03c,black

        <span class="c1"># ==== Gray vertical line ====</span>
        gmt plot -W0.03c,100,-- <span class="s">&lt;&lt;- LINEEND</span>
<span class="s">        0 0</span>
<span class="s">        0 7</span>
<span class="s">        LINEEND</span>
gmt end
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">&lt;&lt;-</span></code> redirection characters remove any <code class="docutils literal notranslate"><span class="pre">tab</span></code> blocks at the beginning of a line so that <code class="docutils literal notranslate"><span class="pre">LINEEND</span></code> ending characters can be read correctly.</p>
</div>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig4.png"><img alt="../_images/scatter_plot_gmt6_fig4.png" class="align-center" src="../_images/scatter_plot_gmt6_fig4.png" style="width: 1000px;" /></a>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">plot</span></code> <strong>can not draw lines and points at the same time</strong> If you want to do this (for example, when making a line chart), you need to use <code class="docutils literal notranslate"><span class="pre">plot</span></code> twice, putting lines first and points later.</p>
</div>
<p>What do you think about the current script? For me, this doesn’t look so pretty because of its first <code class="docutils literal notranslate"><span class="pre">plot</span></code> command. It is much longer than the second <code class="docutils literal notranslate"><span class="pre">plot</span></code> command because we have to set up <code class="docutils literal notranslate"><span class="pre">-R</span></code>, <code class="docutils literal notranslate"><span class="pre">-J</span></code>, and some other things for the first time. Since these two commands are doing quite the same thing, it would be better to set up other options before the first <code class="docutils literal notranslate"><span class="pre">plot</span></code> comes so that they can be straightforward.</p>
<p>It’s finally time to introduce the <code class="docutils literal notranslate"><span class="pre">basemap</span></code> command! <code class="docutils literal notranslate"><span class="pre">basemap</span></code> lets you set up, of course, the basemap and the frame style. In a short script, we can use the <code class="docutils literal notranslate"><span class="pre">-B</span></code> option in many commands to adjust the basemap settings. However, when your script gets longer, or there are many settings about your map, I would suggest using <code class="docutils literal notranslate"><span class="pre">basemap</span></code> since it would make your script clear and more readable. Let’s revisit these two lines</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt plot <span class="nv">$zzh</span>  -R-1/23/0/7 -JX15c/10c -Sc0.35c -G#58C73A -W0.03c,black -Baf
gmt plot <span class="nv">$suao</span> -Sd0.35c -G#3A6BC7 -W0.03c,black
</pre></div>
</div>
<p>We can move all the general settings to the <code class="docutils literal notranslate"><span class="pre">basemap</span></code> command, and the script becomes to</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt basemap -R-1/23/0/7 -JX15c/10c -Baf
gmt plot <span class="nv">$zzh</span>  -Sc0.35c -G#58C73A -W0.03c,black
gmt plot <span class="nv">$suao</span> -Sd0.35c -G#3A6BC7 -W0.03c,black
</pre></div>
</div>
<p>Now it makes more sense to these two lines of <code class="docutils literal notranslate"><span class="pre">plot</span></code> commands: they read and plot data points in the same way, but using different markers and colors. You can also align all the options to make your script prettier. Remember: just toss all general options, like <code class="docutils literal notranslate"><span class="pre">-R</span></code>, <code class="docutils literal notranslate"><span class="pre">-J</span></code>, <code class="docutils literal notranslate"><span class="pre">-B</span></code>, to the <code class="docutils literal notranslate"><span class="pre">basemap</span></code> command, and you are all set.</p>
<p>Now the script begins with a <code class="docutils literal notranslate"><span class="pre">basemap</span></code> option. We can set up the title and the axis label in this line as well. In <a class="reference internal" href="making_first_map.html"><span class="doc">Make Your First Map</span></a>, we learned how to add a title using <code class="docutils literal notranslate"><span class="pre">-B+t</span></code>; and in <a class="reference internal" href="editing_cpt_colorbar.html"><span class="doc">Edit CPT and Colorbar</span></a>, we also mentioned that the axis label is governed by <code class="docutils literal notranslate"><span class="pre">-B[x_or_y]+l</span></code>. Follow these instructions and add some text in the map:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== Setting variables ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>
<span class="nv">zzh_style</span><span class="o">=</span><span class="s2">&quot;-Sc0.35c -G#58C73A -W0.03c,black&quot;</span>
<span class="nv">suao_style</span><span class="o">=</span><span class="s2">&quot;-Sd0.35c -G#3A6BC7 -W0.03c,black&quot;</span>

gmt begin windspeed_vs_temperature png
    <span class="c1"># ==== Settings about the map ====</span>
    <span class="c1"># -Baf now becomes -Bxaf and -Bya2f</span>
    <span class="c1"># and you can specify a, f, and g options for x and y axes separately!</span>
    gmt basemap -R-1/23/0/7 -JX15c/10c -B+t<span class="s2">&quot;January 2016&quot;</span> <span class="se">\</span>
                -Bxaf+l<span class="s2">&quot;Temperature (degree C)&quot;</span> -Bya2f+l<span class="s2">&quot;Wind Speed (m s-1)&quot;</span>
    <span class="c1"># ==== Scatter plot ====</span>
    gmt plot <span class="nv">$zzh</span>  <span class="nv">$zzh_style</span>
    gmt plot <span class="nv">$suao</span> <span class="nv">$suao_style</span>

    <span class="c1"># ==== Gray vertical line ====</span>
    gmt plot -W0.03c,100,-- <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>

gmt end
</pre></div>
</div>
<p>Here’s the output figure:</p>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig5.png"><img alt="../_images/scatter_plot_gmt6_fig5.png" class="align-center" src="../_images/scatter_plot_gmt6_fig5.png" style="width: 1000px;" /></a>
<p>Hmm, now the axis labels appear at all sides, which is a bit redundant. And the unit of the vertical axis <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s-1</span></code> (m/s) is not correct writing; the <code class="docutils literal notranslate"><span class="pre">-1</span></code> here should be superscripted. In addition, if we can rewrite <code class="docutils literal notranslate"><span class="pre">degree</span> <span class="pre">C</span></code> as <code class="docutils literal notranslate"><span class="pre">°C</span></code>, it would be more clear to read. It’s not hard to make these changes. First, we can use the <code class="docutils literal notranslate"><span class="pre">-BWSne</span></code> option to make axis ticks and labels appear at the west and the south side. Only the axis lines would show up at the east and the north side. If you want to superscript/subscript characters, you need to use the <strong>GMT control character</strong> <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>. <code class="docutils literal notranslate"><span class="pre">&#64;+</span></code> is to toggle superscription on/off, and <code class="docutils literal notranslate"><span class="pre">&#64;-</span></code> is to toggle subscription on/off. Any letters enclosed by the control characters will be superscripted/subscripted. Therefore, we can change <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s-1</span></code> to <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s&#64;+-1&#64;+</span></code> to achieve our goal. The degree symbol is also available using the control character – it’s <code class="docutils literal notranslate"><span class="pre">&#64;.</span></code>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Strictly speaking, <code class="docutils literal notranslate"><span class="pre">&#64;+</span></code> toggles the superscription on/off so that <code class="docutils literal notranslate"><span class="pre">m</span> <span class="pre">s&#64;+-1</span></code> would suffice for our need. However, I still suggest to add the control characters at both ends so that it’s easier to read and edit. This style also resembles the <a class="reference external" href="https://en.wikipedia.org/wiki/LaTeX">LaTeX</a> writing guide. For other details regarding what the GMT control character can do, please see the <a class="reference external" href="https://docs.generic-mapping-tools.org/latest/cookbook/features.html#character-escape-sequences">GMT Cookbook</a>.</p>
</div>
<p>Let’s modify our script based on the changes above and the “Settings about the map” section will become this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== Settings about the map ====</span>
gmt basemap -R-1/23/0/7 -JX15c/10c -BWSne+t<span class="s2">&quot;January 2016&quot;</span> -Bxaf+l<span class="s2">&quot;Temperature (@.C)&quot;</span> -Bya2f+l<span class="s2">&quot;Wind Speed (m s@+-1@+)&quot;</span>
</pre></div>
</div>
<p>Now, these axes look much better!</p>
<a class="reference internal image-reference" href="../_images/scatter_plot_gmt6_fig6.png"><img alt="../_images/scatter_plot_gmt6_fig6.png" class="align-center" src="../_images/scatter_plot_gmt6_fig6.png" style="width: 1000px;" /></a>
<p>To finalize our scatter plot, we need to add a legend telling readers the meanings of the two datasets. GMT has <code class="docutils literal notranslate"><span class="pre">legend</span></code> command to draw legends as fancy as you like, but here in this example, we will show you how to make a simple legend using a more straightforward method. It is much easier to learn than <code class="docutils literal notranslate"><span class="pre">legend</span></code> for a simple legend. To begin with, we need a legend box, and <code class="docutils literal notranslate"><span class="pre">plot</span></code> can do the job. To draw a closed polygon using <code class="docutils literal notranslate"><span class="pre">plot</span></code>, we have to assign all the vertex points and specify the <code class="docutils literal notranslate"><span class="pre">-G</span></code> option in the command. And then, it will connect all the points by the given order and form a polygon. The following script snippet uses (16, 5), (22, 5), (22, 6.5), and (16, 6.5) as the vertices and fills the rectangular polygon with the color <code class="docutils literal notranslate"><span class="pre">#E6F4F2</span></code>. You can insert this snippet before <code class="docutils literal notranslate"><span class="pre">gmt</span> <span class="pre">end</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== Legend box and its content ====</span>
gmt plot -W0.05c,black -G#E6F4F2 <span class="s">&lt;&lt; BOXEND</span>
<span class="s">16 5</span>
<span class="s">22 5</span>
<span class="s">22 6.5</span>
<span class="s">16 6.5</span>
<span class="s">BOXEND</span>
</pre></div>
</div>
<p>Now we have to put the previously used markers and the corresponding labels. <code class="docutils literal notranslate"><span class="pre">plot</span></code> can draw the markers for us. This time, we use <code class="docutils literal notranslate"><span class="pre">echo</span></code> and the pipe commands to plot the symbols in the legend box. Of course, you have to determine their coordinates first. Like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;17 6.05&quot;</span> <span class="p">|</span> gmt plot <span class="nv">$zzh_style</span>
<span class="nb">echo</span> <span class="s2">&quot;17 5.45&quot;</span> <span class="p">|</span> gmt plot <span class="nv">$suao_style</span>
</pre></div>
</div>
<p>After drawing the symbols, the final last goal in this chapter is to put labels explaining them. GMT has <code class="docutils literal notranslate"><span class="pre">text</span></code> command to show text at given coordinates. <code class="docutils literal notranslate"><span class="pre">text</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">plot</span></code> in terms of the syntax, but you need at least three columns in your input data instead of two. <strong>The first two columns are the x-y coordinates, and the third column is the text to be labeled</strong>. Also, <code class="docutils literal notranslate"><span class="pre">text</span></code> has its own option <code class="docutils literal notranslate"><span class="pre">-F</span></code> to adjust the details of the text. Some important options under the <code class="docutils literal notranslate"><span class="pre">-F</span></code> flag are</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>-F+f<span class="o">[</span>word_attributes<span class="o">]</span>+j<span class="o">[</span>anchor_point<span class="o">]</span>    <span class="c1"># There are more in fact, but we are not going to talk about them here</span>
</pre></div>
</div>
<p>The way to specify <code class="docutils literal notranslate"><span class="pre">word</span> <span class="pre">attributes</span></code> is similar to that to specify pen attributes. It consists of 3 parameters: <code class="docutils literal notranslate"><span class="pre">font</span> <span class="pre">size,</span> <span class="pre">font</span> <span class="pre">name,</span> <span class="pre">color</span></code>. Here we only change the font size to 14 points (<code class="docutils literal notranslate"><span class="pre">14pt</span></code>) and leave the other settings by default. (See <a class="reference internal" href="layout_design.html"><span class="doc">Design Map Layout</span></a> for more details about the word attributes.) <code class="docutils literal notranslate"><span class="pre">Anchor</span> <span class="pre">point</span></code> follows in concept from the previous chapter <a class="reference internal" href="pen_and_painting.html"><span class="doc">Pen and Painting</span></a>. It uses a <strong>2-character combination</strong> to tell GMT how to align the text. For example, <code class="docutils literal notranslate"><span class="pre">+jML</span></code> (which we are going to use here) will align the left side of the text and the (horizontal) center to the given coordinates. The full command to input text will look like this:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s2">&quot;18 6.05 Zhuzihu&quot;</span> <span class="p">|</span> gmt text -F+f14p+jML
<span class="nb">echo</span> <span class="s2">&quot;18 5.45 Su&#39;ao&quot;</span>   <span class="p">|</span> gmt text -F+f14p+jML
</pre></div>
</div>
<p>In the first line, <code class="docutils literal notranslate"><span class="pre">Zhuzihu</span></code> is left aligned to (18, 6.05). The second line follows the same way, but the aligned point has shifted. Now your legend is done!</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p><code class="docutils literal notranslate"><span class="pre">text</span></code> also accepts multi-line data input. So these two lines of <code class="docutils literal notranslate"><span class="pre">text</span></code> commands can be rewritten using the stdin redirection:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>gmt text -F+f14p+jML <span class="s">&lt;&lt; TEXTEND</span>
<span class="s">18 6.05 Zhuzihu</span>
<span class="s">18 5.45 Su&#39;ao</span>
<span class="s">TEXTEND</span>
</pre></div>
</div>
<p>This has the same effect from the first method we used in the chapter, so it is only a question which style you like more. Also, <code class="docutils literal notranslate"><span class="pre">text</span></code> accepts the input data with more than 3 columns so that you can writing everything down in the text file and assign each line with a distinct color, word attributes, etc. Please see <a class="reference internal" href="layout_design.html"><span class="doc">Design Map Layout</span></a> for more details.</p>
</div>
</section>
<section id="id9">
<h2><span class="section-number">4.5. </span>Script<a class="headerlink" href="#id9" title="Permalink to this headline">#</a></h2>
<p>The final script for our map is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># ==== Setting variables ====</span>
<span class="nv">zzh</span><span class="o">=</span><span class="s1">&#39;zzh.txt&#39;</span>
<span class="nv">suao</span><span class="o">=</span><span class="s1">&#39;suao.txt&#39;</span>
<span class="nv">zzh_style</span><span class="o">=</span><span class="s2">&quot;-Sc0.35c -G#58C73A -W0.03c,black&quot;</span>
<span class="nv">suao_style</span><span class="o">=</span><span class="s2">&quot;-Sd0.35c -G#3A6BC7 -W0.03c,black&quot;</span>

gmt begin windspeed_vs_temperature png
    <span class="c1"># ==== Settings about the map ====</span>
    gmt basemap -R-1/23/0/7 -JX15c/10c -BWSne+t<span class="s2">&quot;January 2016&quot;</span> -Bxaf+l<span class="s2">&quot;Temperature (@.C)&quot;</span> -Bya2f+l<span class="s2">&quot;Wind Speed (m s@+-1@+)&quot;</span>

    <span class="c1"># ==== Scatter plot ====</span>
    gmt plot <span class="nv">$zzh</span>  <span class="nv">$zzh_style</span>
    gmt plot <span class="nv">$suao</span> <span class="nv">$suao_style</span>

    <span class="c1"># ==== Gray vertical line ====</span>
    gmt plot -W0.03c,100,-- <span class="s">&lt;&lt; LINEEND</span>
<span class="s">0 0</span>
<span class="s">0 7</span>
<span class="s">LINEEND</span>

    <span class="c1"># ==== Legend box and its content ====</span>
    gmt plot -W0.05c,black -G#E6F4F2 <span class="s">&lt;&lt; BOXEND</span>
<span class="s">16 5</span>
<span class="s">22 5</span>
<span class="s">22 6.5</span>
<span class="s">16 6.5</span>
<span class="s">BOXEND</span>

    <span class="nb">echo</span> <span class="s2">&quot;17 6.05&quot;</span> <span class="p">|</span> gmt plot <span class="nv">$zzh_style</span>
    <span class="nb">echo</span> <span class="s2">&quot;17 5.45&quot;</span> <span class="p">|</span> gmt plot <span class="nv">$suao_style</span>
    <span class="nb">echo</span> <span class="s2">&quot;18 6.05 Zhuzihu&quot;</span> <span class="p">|</span> gmt text -F+f14p+jML
    <span class="nb">echo</span> <span class="s2">&quot;18 5.45 Su&#39;ao&quot;</span> <span class="p">|</span> gmt text -F+f14p+jML
gmt end
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>“Make an XY scatter plot using the wind speed and temperature data recorded in January 2016 from two weather stations. Gray dashed vertical line represents the zero degrees Celcius. Information is given in the legend and in the axis labels.”</p>
</div>
<p>Check the <a class="reference internal" href="#id4">final figure</a></p>
</section>
<section id="pygmt">
<h2><span class="section-number">4.6. </span>PyGMT 指令稿<a class="headerlink" href="#pygmt" title="Permalink to this headline">#</a></h2>
<p>使用 PyGMT，可以如下腳本繪製本地圖：</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pygmt</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="c1"># 需要 Numpy 來讀取檔案中的資料</span>

<span class="c1"># ==== 設定變數 ====</span>
<span class="c1"># 我們使用 numpy.loadtxt 載入資料表，然後資料點樣式使用 Python 的 Dictionary 來指定。</span>
<span class="n">zzh</span>  <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;zzh.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">suao</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s1">&#39;suao.txt&#39;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s1">&#39;,&#39;</span><span class="p">)</span>
<span class="n">zzh_style</span>  <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;c0.35c&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#58C73A&#39;</span><span class="p">,</span> <span class="s1">&#39;pen&#39;</span><span class="p">:</span> <span class="s1">&#39;0.03c,black&#39;</span><span class="p">}</span>
<span class="n">suao_style</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;style&#39;</span><span class="p">:</span> <span class="s1">&#39;d0.35c&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span> <span class="s1">&#39;#3A6BC7&#39;</span><span class="p">,</span> <span class="s1">&#39;pen&#39;</span><span class="p">:</span> <span class="s1">&#39;0.03c,black&#39;</span><span class="p">}</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">pygmt</span><span class="o">.</span><span class="n">Figure</span><span class="p">()</span>

<span class="c1"># ==== 版面與作圖區設定 ====</span>
<span class="n">fig</span><span class="o">.</span><span class="n">basemap</span><span class="p">(</span><span class="n">region</span><span class="o">=</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">23</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">projection</span><span class="o">=</span><span class="s1">&#39;X15c/10c&#39;</span><span class="p">,</span> <span class="n">frame</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;WSne+t&quot;January 2016&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;xaf+l&quot;Temperature (@.C)&quot;&#39;</span><span class="p">,</span> <span class="s1">&#39;ya2f+l&quot;Wind Speed (m s@+-1@+)&quot;&#39;</span><span class="p">])</span>

<span class="c1"># ==== 繪點 ====</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">zzh</span><span class="p">,</span>  <span class="o">**</span><span class="n">zzh_style</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">suao</span><span class="p">,</span> <span class="o">**</span><span class="n">suao_style</span><span class="p">)</span>

<span class="c1"># ==== 灰色垂直虛線 ====</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">7</span><span class="p">],</span> <span class="n">pen</span><span class="o">=</span><span class="s1">&#39;0.03c,100,--&#39;</span><span class="p">)</span>

<span class="c1"># ==== 圖例框與圖例內容 ====</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="p">[</span><span class="mi">16</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">22</span><span class="p">,</span> <span class="mi">16</span><span class="p">],</span> <span class="n">y</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">,</span> <span class="mf">6.5</span><span class="p">],</span> <span class="n">pen</span><span class="o">=</span><span class="s1">&#39;0.05c,black&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#E6F4F2&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="mi">17</span><span class="p">,</span> <span class="mf">6.05</span><span class="p">]],</span>  <span class="o">**</span><span class="n">zzh_style</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[[</span><span class="mi">17</span><span class="p">,</span> <span class="mf">5.45</span><span class="p">]],</span>  <span class="o">**</span><span class="n">suao_style</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">6.05</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Zhuzihu&#39;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;14p&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;ML&#39;</span><span class="p">)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">5.45</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Su&#39;ao&quot;</span><span class="p">,</span> <span class="n">font</span><span class="o">=</span><span class="s1">&#39;14p&#39;</span><span class="p">,</span> <span class="n">justify</span><span class="o">=</span><span class="s1">&#39;ML&#39;</span><span class="p">)</span>

<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">fig</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;windspeed_vs_temperature_pygmt.png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>你可以使用以下的 Binder 連結嘗試此程式碼：</p>
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/whyjz/GMT-tutorials/HEAD?filepath=SOURCE_DOCS%2Fscatter_plot%2Fwindspeed_vs_temperature_pygmt.ipynb"><img alt="https://mybinder.org/badge_logo.svg" src="https://mybinder.org/badge_logo.svg" /></a>
</section>
<section id="id10">
<h2><span class="section-number">4.7. </span>Exercise<a class="headerlink" href="#id10" title="Permalink to this headline">#</a></h2>
<ol class="arabic simple">
<li><p>The data used in this chapter are timely ordered. They only have one measurement each day. Please use the same data to plot a <strong>line chart</strong> showing the temperature vs time in January 2016 for both Zhuzihu and Su’ao stations.</p></li>
<li><p>Please draw the <a class="reference external" href="https://en.wikipedia.org/wiki/Star_of_David">Star of David</a> using <code class="docutils literal notranslate"><span class="pre">plot</span></code>.</p></li>
</ol>
<dl class="footnote brackets">
<dt class="label" id="id12"><span class="brackets"><a class="fn-backref" href="#id3">1</a></span></dt>
<dd><p><a class="reference external" href="http://www.appledaily.com.tw/realtimenews/article/new/20160124/782086/">Apple Daily, 2016/1/24</a>。</p>
</dd>
</dl>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./main"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="pen_and_painting.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title"><span class="section-number">3. </span>Pen and Painting</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="cpt_colormap.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">1. </span>Visualize Raster Data Using a Colormap</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
 <div id="disqus_thread"></div> <script> var disqus_config = function () {this.page.url = 'http://gmt-tutorial.org/scatter_plot.html'; this.page.identifier = 'scatter_plot'; }; (function() { var d = document, s = d.createElement('script'); s.src = '//gmt-tutorials.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By <a href="https://whyjz.github.io/">鄭懷傑 (Whyjay Zheng)</a> | <a href="https://twitter.com/WhyjayZ"><i class="fa-brands fa-twitter"></i></a><br/>
  
    Last updated on Jul 27, 2022.<br/>
    <div class="extra_footer">
      &copy; 2016-2022. <a href="https://github.com/whyjz/GMT-tutorials/blob/master/LICENSE.md">MIT</a> 
and <a href="http://creativecommons.org/licenses/by/4.0/">CC-BY-4.0</a> dual licensed. <br>
Found this tutorial helpful? <a href="https://www.paypal.com/donate?hosted_button_id=68GZNRJ3MZDBE">Buy me a milktea!</a>

    </div>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>